{
  "protocol": {
    "name": "AAVE",
    "type": "Lending",
    "version": 2,
    "chain": "Ethereum",
    "endpoint": {
      "ethereum": "https://api.thegraph.com/subgraphs/name/aave/protocol-v2",
      "polygon": "https://api.thegraph.com/subgraphs/name/aave/aave-v2-matic",
      "avalanche": "https://api.thegraph.com/subgraphs/name/aave/protocol-v2-avalanche"
    }
  },
  "entities": {
    "borrow": {
      "attributes": {
        "tx_id": [
          "id"
        ],
        "user": [
          "user",
          "id"
        ],
        "onBehalfOf": [
            "onBehalfOf",
            "id"
        ],
        "token": [
          "reserve",
          "symbol"
        ],
        "amount": [
          "amount"
        ],
        "rate": [
          "borrowRate"
        ],
        "borrowRateMode": [
          "borrowRateMode"
        ],
        "stableTokenDebt": [
          "stableTokenDebt"
        ],
        "variableTokenDebt": [
            "variableTokenDebt"
        ],
        "timestamp": [
          "timestamp"
        ]
      },
      "query": {
        "extra_fields": {
          "decimals": [
            "reserve",
            "decimals"
          ]
        },
        "name": "borrows",
        "params": {
          "orderBy": "timestamp",
          "user": "user"
        }
      },
      "transformations": {
        "amount": "decimals",
        "tx_id": "tx_id_colon"
      }
    },
    "deposit": {
      "attributes": {
        "tx_id": [
          "id"
        ],
        "user": [
          "user",
          "id"
        ],
        "token": [
          "reserve",
          "symbol"
        ],
        "amount": [
          "amount"
        ],
        "timestamp": [
          "timestamp"
        ]
      },
      "query": {
        "extra_fields": {
          "decimals": [
            "reserve",
            "decimals"
          ]
        },
        "name": "deposits",
        "params": {
          "orderBy": "timestamp",
          "user": "user"
        }
      },
      "transformations": {
        "amount": "decimals",
        "tx_id": "tx_id_colon"
      }
    },
    "liquidation": {
      "attributes": {
        "tx_id": [
          "id"
        ],
        "user": [
          "user",
          "id"
        ],
        "token_principal": [
          "principalReserve",
          "symbol"
        ],
        "token_collateral": [
          "collateralReserve",
          "symbol"
        ],
        "amount_principal": [
          "principalAmount"
        ],
        "amount_collateral": [
          "collateralAmount"
        ],
        "liquidator": [
          "liquidator"
        ],
        "timestamp": [
          "timestamp"
        ]
      },
      "query": {
        "extra_fields": {
          "principal_decimals": [
            "principalReserve",
            "decimals"
          ],
          "collateral_decimals": [
            "collateralReserve",
            "decimals"
          ]
        },
        "name": "liquidationCalls",
        "params": {
          "orderBy": "timestamp",
          "user": "user"
        }
      },
      "transformations": {
        "amount_principal": "principal_decimals",
        "amount_collateral": "collateral_decimals",
        "tx_id": "tx_id_colon"
      }
    },
    "originationfeeliquidation": {
      "attributes": {
        "tx_id": [
          "id"
        ],
        "user": [
          "user",
          "id"
        ],
        "token_principal": [
          "principalReserve",
          "symbol"
        ],
        "token_collateral": [
          "collateralReserve",
          "symbol"
        ],
        "amount_principal": [
          "principalAmount"
        ],
        "amount_collateral": [
          "collateralAmount"
        ],
        "feeLiquidated": [
          "feeLiquidated"
        ],
        "liquidatedCollateralForFee": [
            "liquidatedCollateralForFee"
        ],
        "timestamp": [
          "timestamp"
        ]
      },
      "query": {
        "extra_fields": {
          "principal_decimals": [
            "principalReserve",
            "decimals"
          ],
          "collateral_decimals": [
            "collateralReserve",
            "decimals"
          ]
        },
        "name": "OriginationFeeLiquidation",
        "params": {
          "orderBy": "timestamp",
          "user": "user"
        }
      },
      "transformations": {
        "amount_principal": "principal_decimals",
        "amount_collateral": "collateral_decimals",
        "tx_id": "tx_id_colon"
      }
    },
    "repay": {
      "attributes": {
        "tx_id": [
          "id"
        ],
        "user": [
          "user",
          "id"
        ],
        "token": [
          "reserve",
          "symbol"
        ],
        "amount": [
          "amount"
        ],
        "timestamp": [
          "timestamp"
        ]
      },
      "query": {
        "name": "repays",
        "extra_fields": {
          "decimals": [
            "reserve",
            "decimals"
          ]
        },
        "params": {
          "orderBy": "timestamp",
          "user": "user"
        }
      },
      "transformations": {
        "amount": "decimals",
        "tx_id": "tx_id_colon"
      }
    },
    "redeem": {
      "attributes": {
        "tx_id": [
          "id"
        ],
        "user": [
          "user",
          "id"
        ],
        "token": [
          "reserve",
          "symbol"
        ],
        "amount": [
          "amount"
        ],
        "timestamp": [
          "timestamp"
        ]
      },
      "query": {
        "extra_fields": {
          "decimals": [
            "reserve",
            "decimals"
          ]
        },
        "name": "redeemUnderlyings",
        "params": {
          "orderBy": "timestamp",
          "user": "user"
        }
      },
      "transformations": {
        "amount": "decimals",
        "tx_id": "tx_id_colon"
      }
    },
    "swap": {
        "attributes": {
            "tx_id": [
                "id"
            ],
            "user": [
                "user",
                "id"
            ],
            "token": [
                "reserve",
                "symbol"
            ],
            "borrowRateModeFrom": [
                "borrowRateModeFrom"
            ],
            "borrowRateModeTo": [
                "borrowRateModeTo"
            ],
            "stableBorrowRate": [
                "stableBorrowRate"
            ],
            "variableBorrowRate": [
                "variableBorrowRate"
            ],
            "timestamp": [
                "timestamp"
            ]
        },
        "query": {
            "extra_fields": {
                "decimals": [
                    "reserve",
                    "decimals"
                ]
            },
            "name": "Swaps",
            "params": {
                "orderBy": "timestamp",
                "user": "user"
            }
        },
        "transformations": {
            "amount": "decimals",
            "tx_id": "tx_id_colon"
        }
    },
    "collateralize": {
      "attributes": {
        "tx_id": [
          "id"
        ],
        "user": [
          "user",
          "id"
        ],
        "token": [
          "reserve",
          "symbol"
        ],
        "fromState": [
          "fromState"
        ],
        "toState": [
            "toState"
        ],
        "timestamp": [
          "timestamp"
        ]
      },
      "query": {
        "extra_fields": {
          "decimals": [
            "reserve",
            "decimals"
          ]
        },
        "name": "UsageAsCollaterals",
        "params": {
          "orderBy": "timestamp",
          "user": "user"
        }
      },
      "transformations": {
        "amount": "decimals",
        "tx_id": "tx_id_colon"
      }
    },
    "rebalancestableborrowrate": {
        "attributes": {
            "tx_id": [
                "id"
            ],
            "user": [
                "user",
                "id"
            ],
            "token": [
                "reserve",
                "symbol"
            ],
            "borrowRateFrom": [
                "borrowRateFrom"
            ],
            "borrowRateTo": [
                "borrowRateTo"
            ],
            "timestamp": [
                "timestamp"
            ]
        },
        "query": {
            "extra_fields": {
                "decimals": [
                    "reserve",
                    "decimals"
                ]
            },
            "name": "RebalanceStableBorrowRates",
            "params": {
                "orderBy": "timestamp",
                "user": "user"
            }
        },
        "transformations": {
            "amount": "decimals",
            "tx_id": "tx_id_colon"
        }
    },
    "flashloans": {
        "attributes": {
        "tx_id": [
            "id"
        ],
        "user": [
            "initiator",
            "id"
        ],
        "token": [
            "reserve",
            "symbol"
        ],
        "amount": [
            "amount"
        ],
        "timestamp": [
            "timestamp"
        ]
        },
        "query": {
        "name": "flashLoans",
        "extra_fields": {
            "decimals": [
            "reserve",
            "decimals"
            ]
        },
        "params": {
            "orderBy": "timestamp",
            "user": "initiator"
        }
        },
        "transformations": {
        "amount": "decimals",
        "tx_id": "tx_id_colon"
        }
    },
    "rates": {
      "attributes": {
        "token": [
          "reserve",
          "symbol"
        ],
        "variable_borrow_rate": [
          "variableBorrowRate"
        ],
        "stable_borrow_rate": [
          "stableBorrowRate"
        ],
        "supply_rate": [
          "liquidityRate"
        ],
        "timestamp": [
          "timestamp"
        ]
      },
      "query": {
        "name": "reserveParamsHistoryItems",
        "extra_fields": {
          "decimals": [
            "reserve",
            "decimals"
          ]
        },
        "params": {
          "orderBy": "timestamp",
          "asset": "reserve"
        }
      },
      "transformations": {
        "variable_borrow_rate": "rates_units_aave",
        "stable_borrow_rate": "rates_units_aave",
        "supply_rate": "rates_units_aave"
      }
    },
    "token": {
      "attributes": {
        "id": [
          "id"
        ],
        "symbol": [
          "symbol"
        ]
      },
      "query": {
        "name": "reserves",
        "extra_fields": {},
        "params": {
          "orderBy": "id",
          "initial_value": "0"
        }
      },
      "transformations": {}
    },
    "user": {
      "attributes": {
        "user_id": [
          "id"
        ],
        "active_loans": [
          "borrowedReservesCount"
        ],
        "liquidations_count": [
          "liquidationCallHistory",
          "id"
        ],
        "unclaimedRewards": [
            "unclaimedRewards"
        ],
        "lifetimeRewards": [
            "lifetimeRewards"
        ], 
        "incentivesLastUpdated": [
            "incentivesLastUpdated"
        ]
      },
      "query": {
        "name": "users",
        "extra_fields": {},
        "params": {
          "orderBy": "id",
          "initial_value": "0"
        }
      },
      "transformations": {
        "liquidations_count": "array_length"
      }
    },
    "user_position": {
      "attributes": {
        "user_id": [
          "user",
          "id"
        ],
        "symbol": [
          "reserve",
          "symbol"
        ],
        "debt_amount": [
          "currentTotalDebt"
        ],
        "collateral_amount": [
          "currentATokenBalance"
        ]
      },
      "query": {
        "name": "userReserves",
        "extra_fields": {
          "decimals": [
            "reserve",
            "decimals"
          ]
        },
        "params": {
          "user": "user"
        }
      },
      "transformations": {
        "collateral_amount": "decimals",
        "debt_amount": "decimals"
      }
    },
    "user_history": {
        "attributes": {
            "user_reserve_id": [
                "id"
            ],
            "last_update": [
                "lastUpdateTimestamp"
            ],
            "user_id": [
                "user",
                "id"
            ],
            "aTokenBalanceHistory": [
                "aTokenBalanceHistory",
                "currentATokenBalance",
                "aTokenBalanceHistory",
                "timestamp"
            ]
        },
        "query": {
            "name": "userReserves",
            "extra_fields": {
                "aTokenBalanceHistory": [
                    "aTokenBalanceHistory"
                ]
            },
            "params": {
                "user": "user",
                "initial_value": "0",
                "orderBy": "timestamp"
            }
        },
        "transformations": {
            "aTokenBalanceHistory": "transfer_list"
        }
    },
    "user_reserves": {
        "attributes": {
            "id": [
                "id"
            ],
            "last_update":[
                "lastUpdateTimestamp"
            ],
            "user_id": [
                "user",
                "id"
            ],
            "pool_id": [
                "pool",
                "id"
            ],
            "reserve_id": [
                "reserve",
                "id"
            ],
            "usageAsCollateralEnabledOnUser": [
                "usageAsCollateralEnabledOnUser"
            ],
            "scaledATokenBalance": [
                "scaledATokenBalance"
            ],
            "currentATokenBalance": [
                "currentATokenBalance"
            ],
            "scaledVariableDebt": [
                "scaledVariableDebt"
            ],
            "currentVariableDebt": [
                "currentVariableDebt"
            ],
            "principalStableDebt": [
                "principalStableDebt"
            ],
            "currentStableDebt": [
                "currentStableDebt"
            ],
            "currentTotalDebt": [
                "currentTotalDebt"
            ],
            "stableBorrowRate": [
                "stableBorrowRate"
            ],
            "oldStableBorrowRate": [
                "oldStableBorrowRate"
            ],
            "liquidityRate": [
                "liquidityRate"
            ],
            "stableBorrowLastUpdateTimestamp": [
                "stableBorrowLastUpdateTimestamp"
            ],
            "variableBorrowIndex": [
                "variableBorrowIndex"
            ],
            "aTokenincentivesUserIndex": [
                "aTokenincentivesUserIndex"
            ],
            "vTokenincentivesUserIndex": [
                "vTokenincentivesUserIndex"
            ],
            "sTokenincentivesUserIndex": [
                "sTokenincentivesUserIndex"
            ],
            "aIncentivesLastUpdateTimestamp": [
                "aIncentivesLastUpdateTimestamp"
            ],
            "vIncentivesLastUpdateTimestamp": [
                "vIncentivesLastUpdateTimestamp"
            ],
            "sIncentivesLastUpdateTimestamp": [
                "sIncentivesLastUpdateTimestamp"
            ],
            "stableTokenDelegatedAllowances": [
                "StableTokenDelegatedAllowance",
                "id",
                "StableTokenDelegatedAllowance",
                "fromUser",
                "StableTokenDelegatedAllowance",
                "toUser",
                "StableTokenDelegatedAllowance",
                "amountAllowed"
            ],
            "variableTokenDelegatedAllowances": [
                "VariableTokenDelegatedAllowance",
                "id",
                "VariableTokenDelegatedAllowance",
                "fromUser",
                "VariableTokenDelegatedAllowance",
                "toUser",
                "VariableTokenDelegatedAllowance",
                "amountAllowed"
            ]
        },
        "query": {
            "name": "userReserves",
            "extra_fields": {
            },
            "params": {
                "user": "user",
                "initial_value": "0",
                "orderBy": "id"
            }
        },
        "transformations": {
            "StableTokenDelegatedAllowance": "transfer_list",
            "VariableTokenDelegatedAllowance": "transfer_list"
        }
    },
    "aTokenBalanceHistoryItems": {
        "attributes": {
            "tx_id": [
                "id"
            ],
            "user_reserve_id": [
                "userReserve",
                "id"
            ],
            "user_id":[
                "userReserve",
                "user",
                "id"
            ],

            "scaledATokenBalance":[
                "scaledATokenBalance"
            ],
            "currentATokenBalance":[
                "currentATokenBalance"
            ],
            "timestamp": [
                "timestamp"
            ]
        },
        "query": {
            "name": "aTokenBalanceHistoryItems",
            "extra_fields": {
                "userReserve": [
                    "userReserve"
                ],
                "decimals": [
                    "reserve",
                    "decimals"
                ]
            },
            "params": {
                "user": "user",
                "initial_value": "0",
                "orderBy": "timestamp"
            }
        },
        "transformations": {
            "amount": "decimals",
            "tx_id": "tx_id_colon"
        }
    },
    "vTokenBalanceHistoryItems": {
        "attributes": {
            "tx_id": [
                "id"
            ],
            "user_reserve_id": [
                "userReserve",
                "id"
            ],
            "user_id":[
                "userReserve",
                "user",
                "id"
            ],

            "scaledATokenBalance":[
                "scaledATokenBalance"
            ],
            "currentATokenBalance":[
                "currentATokenBalance"
            ],
            "timestamp": [
                "timestamp"
            ]
        },
        "query": {
            "name": "vTokenBalanceHistoryItems",
            "extra_fields": {
                "userReserve": [
                    "userReserve"
                ],
                "decimals": [
                    "reserve",
                    "decimals"
                ]
            },
            "params": {
                "user": "user",
                "initial_value": "0",
                "orderBy": "timestamp"
            }
        },
        "transformations": {
            "amount": "decimals",
            "tx_id": "tx_id_colon"
        }
    },
    "sTokenBalanceHistoryItems": {
        "attributes": {
            "tx_id": [
                "id"
            ],
            "user_reserve_id": [
                "userReserve",
                "id"
            ],
            "user_id":[
                "userReserve",
                "user",
                "id"
            ],

            "scaledATokenBalance":[
                "scaledATokenBalance"
            ],
            "currentATokenBalance":[
                "currentATokenBalance"
            ],
            "timestamp": [
                "timestamp"
            ]
        },
        "query": {
            "name": "sTokenBalanceHistoryItems",
            "extra_fields": {
                "userReserve": [
                    "userReserve"
                ],
                "decimals": [
                    "reserve",
                    "decimals"
                ]
            },
            "params": {
                "user": "user",
                "initial_value": "0",
                "orderBy": "timestamp"
            }
        },
        "transformations": {
            "amount": "decimals",
            "tx_id": "tx_id_colon"
        }
    },
    }
  }
}
